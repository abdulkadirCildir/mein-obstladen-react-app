(this["webpackJsonpmy-fruit-shop-react-app"]=this["webpackJsonpmy-fruit-shop-react-app"]||[]).push([[0],{106:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),o=n(12),c=n.n(o),i=(n(78),n(46)),s=n(13),l=n.n(s),u=n(19),d=n(159),p=n(160),j=n(47),b=n(147),f=n(149),v=n(151),x=n(161),h=n(163),g=n(21),O=n(6),m=Object(r.createContext)(),y=m.Provider;var w=function(t){var e=t.children,n=Object(r.useState)(),a=Object(g.a)(n,2),o=a[0],c=a[1],i=Object(r.useState)(),s=Object(g.a)(i,2),l=s[0],u=s[1],d=Object(r.useState)(),p=Object(g.a)(d,2),j=p[0],b=p[1];return Object(O.jsx)(y,{value:{allProducts:o,setAllProducts:c,nextUrl:l,setNextUrl:u,productList:j,setProductList:b},children:e})},S=Object(b.a)((function(t){return{toolbar:{padding:"10px 24px",borderBottom:"1px solid ".concat(t.palette.divider),display:"flex",flexDirection:"row",flexWrap:"wrap",alignItems:"center"},toolbarTitle:{flex:1,fontFamily:"Dancing Script, cursive",fontSize:"2rem"},toolbarSecondary:{justifyContent:"space-between",overflowX:"auto"},toolbarLink:{padding:t.spacing(1),flexShrink:0}}}));function L(t){var e=Object(r.useContext)(m),n=e.allProducts,o=e.setProductList,c=n,i=S(),s=t.title;return Object(O.jsx)(a.a.Fragment,{children:Object(O.jsxs)(f.a,{className:i.toolbar,children:[Object(O.jsx)(v.a,{component:"h2",variant:"h5",color:"inherit",align:"left",className:i.toolbarTitle,children:Object(O.jsx)("a",{href:"/",style:{textDecorationLine:"none",color:"#272727"},children:s})}),Object(O.jsx)(h.a,{id:"combo-box-demo",options:c,getOptionLabel:function(t){return t.name},style:{width:500},renderInput:function(t){return Object(O.jsx)(x.a,Object(j.a)(Object(j.a)({onChange:function(t,e){!function(t){var e=n.filter((function(e){var n=t.target.value.toUpperCase();return e.name.toUpperCase().indexOf(n)>-1}));o(e)}(t)}},t),{},{label:"Search for a delicious fruit..",variant:"outlined"}))}})]})})}var P=n(20),C=n.n(P),k=n(162),_=n(158),N=n(153),A=n(154),E=n(157),T=n(156),F=n(155);n(32).config();var D=Object(b.a)({root:{marginTop:"1rem",width:220,boxShadow:"0.3rem 0.3rem 0.9rem rgba(0,0,0,0.1)",borderRadius:"10px"},media:{height:140,backgroundSize:"contain"}});function U(t){var e=t.post,n=D(),a=Object(r.useState)(),o=Object(g.a)(a,2),c=o[0],i=o[1],s=Object(r.useRef)(),d=function(){var t=Object(u.a)(l.a.mark((function t(e){var n,r,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n="".concat("https://api.predic8.de:443").concat(e),t.next=4,C.a.get(n);case 4:r=t.sent,1==s.current&&i(null===r||void 0===r?void 0:r.data),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),(a=t.t0.response)?console.log(a.data.non_field_errors[0]):console.log("Something went wrong!");case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){return s.current=!0,d(e.product_url),function(){return s.current=!1}}),[e.product_url]),Object(O.jsxs)(N.a,{className:n.root,children:[c?Object(O.jsxs)(A.a,{children:[Object(O.jsx)(F.a,{className:n.media,image:c.photo_url?"".concat("https://api.predic8.de:443").concat(c.photo_url):"https://cortelia-systems.com/uploads/categories/Spare%20Parts_1608196111.png"}),Object(O.jsxs)(T.a,{children:[Object(O.jsx)(v.a,{gutterBottom:!0,variant:"h5",component:"h2",children:c.name}),Object(O.jsx)(v.a,{variant:"body2",color:"textSecondary",component:"p",children:c.price+" \u20ac"})]})]}):"loading",Object(O.jsx)(E.a,{children:Object(O.jsx)(_.a,{size:"small",color:"primary",children:"Product Details"})})]})}n(32).config();var B=Object(b.a)((function(t){return{tabGrid:{display:"flex",flexWrap:"wrap",gap:"1rem"},buttonStyle:{color:"red"}}}));function G(t){var e=t.getProductList,n=t.getProductsById,a=B(),o=Object(r.useContext)(m),c=o.setAllProducts,i=o.setProductList,s=Object(r.useState)([]),d=Object(g.a)(s,2),p=d[0],j=d[1],b=Object(r.useState)("ALL"),f=Object(g.a)(b,2),v=f[0],x=f[1],h="/shop/categories/";Object(r.useEffect)((function(){y()}),[]);var y=function(){var t=Object(u.a)(l.a.mark((function t(){var e,n,r,a,o=arguments;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=o.length>0&&void 0!==o[0]?o[0]:"".concat("https://api.predic8.de:443").concat(h),t.prev=1,t.next=4,C.a.get(e);case 4:r=t.sent,j(null===r||void 0===r||null===(n=r.data)||void 0===n?void 0:n.categories),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),(a=t.t0.response)?console.log(a.data.non_field_errors[0]):console.log("Something went wrong!");case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}();return console.log("SELECTEDCATEGORY:",v),Object(O.jsxs)("div",{className:a.tabGrid,children:[Object(O.jsx)(_.a,{style:{border:"ALL"==v?"solid 3px":"none"},onClick:function(){x("ALL"),i([]),c([]),e()},children:"All"}),p?p.map((function(t,e){return Object(O.jsx)(_.a,{style:{border:v==t.name?"solid 3px":"none"},onClick:function(){n(t.name),x(t.name)},children:t.name},e)})):"No data available!"]})}n(32).config();var I=Object(b.a)((function(t){return{mainGrid:{marginTop:t.spacing(3)},tabGrid:{display:"flex",flexWrap:"wrap",gap:"1rem"},productStyle:{display:"flex",flexWrap:"wrap",gap:"1rem",justifyContent:"center"}}}));function M(t){var e=t.getProductList,n=t.hasNext,a=t.loadMore,o=I(),c=Object(r.useContext)(m),i=c.allProducts,s=c.setNextUrl,d=c.productList,p=c.setProductList;Object(r.useEffect)((function(){p(i)}),[i]);var j=function(){var t=Object(u.a)(l.a.mark((function t(e){var n,r,a,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n="".concat("https://api.predic8.de:443").concat("/shop/categories/")+e,t.next=4,C.a.get(n);case 4:r=t.sent,a=r.data,console.log("DATA:",a),p(null===a||void 0===a?void 0:a.products),s(null),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),(o=t.t0.response)?console.log(o.data.non_field_errors[0]):console.log("Something went wrong!");case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:o.mainGrid,children:[Object(O.jsx)(G,{getProductList:e,getProductsById:j}),Object(O.jsx)("div",{className:o.productStyle,children:d?d.map((function(t,e){return Object(O.jsx)(U,{post:t},e)})):"Loading..."}),Object(O.jsx)(k.a,{display:"flex",justifyContent:"center",m:1,p:1,bgcolor:"none",children:Object(O.jsx)(k.a,{p:1,children:n?Object(O.jsx)(_.a,{variant:"contained",color:"primary",onClick:function(){return a()},children:"View More"}):Object(O.jsx)(_.a,{style:{display:"none"}})})})]})}n(32).config();var W=function(){var t=Object(r.useContext)(m),e=t.allProducts,n=t.setAllProducts,o=t.nextUrl,c=t.setNextUrl;Object(r.useEffect)((function(){s()}),[]);var s=function(){var t=Object(u.a)(l.a.mark((function t(){var e,r,a,o,i,s,u,d,p,j=arguments;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=j.length>0&&void 0!==j[0]?j[0]:"".concat("https://api.predic8.de:443","/shop/products/"),t.prev=1,t.next=4,C.a.get(e);case 4:i=t.sent,n(null===i||void 0===i||null===(r=i.data)||void 0===r?void 0:r.products),(null===i||void 0===i||null===(a=i.data)||void 0===a||null===(o=a.meta)||void 0===o?void 0:o.next_url)?c("".concat("https://api.predic8.de:443")+(null===i||void 0===i||null===(s=i.data)||void 0===s||null===(u=s.meta)||void 0===u?void 0:u.next_url)):c(null),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),(d=t.t0.response)?console.log(null===d||void 0===d||null===(p=d.data)||void 0===p?void 0:p.non_field_errors[0]):console.log("Something went wrong!");case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(){return t.apply(this,arguments)}}(),j=function(){var t=Object(u.a)(l.a.mark((function t(){var r,a,s,u,d,p;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.a.get(o);case 2:u=t.sent,n([].concat(Object(i.a)(e),Object(i.a)(null===u||void 0===u||null===(r=u.data)||void 0===r?void 0:r.products))),(null===u||void 0===u||null===(a=u.data)||void 0===a||null===(s=a.meta)||void 0===s?void 0:s.next_url)?c("".concat("https://api.predic8.de:443")+(null===u||void 0===u||null===(d=u.data)||void 0===d||null===(p=d.meta)||void 0===p?void 0:p.next_url)):c(null);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(O.jsxs)(a.a.Fragment,{children:[Object(O.jsx)(d.a,{}),Object(O.jsx)(L,{title:"My Fruit Shop"}),Object(O.jsx)(p.a,{maxWidth:"lg",children:0==(null===e||void 0===e?void 0:e.length)?"Loading":Object(O.jsx)(M,{getProductList:s,loadMore:j,hasNext:!!o})})]})},z=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,166)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,o=e.getLCP,c=e.getTTFB;n(t),r(t),a(t),o(t),c(t)}))};c.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(w,{children:Object(O.jsx)(W,{})})}),document.getElementById("root")),z()},78:function(t,e,n){}},[[106,1,2]]]);
//# sourceMappingURL=main.72066db8.chunk.js.map